<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Predict Your Employees â€” L&D Monitor 2026</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  @font-face { font-family: 'Euclid Circular B'; src: url('https://f.hubspotusercontent30.net/hubfs/515235/DiamondTube/fonts/EuclidCircularB-Regular.woff2') format('woff2'); font-weight: 400; }
  @font-face { font-family: 'Euclid Circular B'; src: url('https://f.hubspotusercontent30.net/hubfs/515235/DiamondTube/fonts/EuclidCircularB-Bold.woff2') format('woff2'); font-weight: 700; }

  :root {
    --st-blue: #056DFF;
    --st-cyan: #00C2FF;
    --st-green: #10B981;
    --st-yellow: #F59E0B;
    --st-red: #EF4444;
    --st-navy: #11295A;
    --bg-dark: #0f172a;
    --glass-bg: rgba(255,255,255,0.05);
    --glass-border: rgba(255,255,255,0.1);
    --glass-bg-light: rgba(255,255,255,0.08);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { scroll-behavior: smooth; }
  body {
    font-family: 'Euclid Circular B', system-ui, -apple-system, sans-serif;
    background: var(--bg-dark);
    color: #e2e8f0;
    line-height: 1.6;
    min-height: 100vh;
  }

  .glass {
    background: var(--glass-bg); backdrop-filter: blur(16px);
    border: 1px solid var(--glass-border); border-radius: 16px; padding: 28px;
  }
  .glass-light {
    background: var(--glass-bg-light); backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.07); border-radius: 12px; padding: 20px;
  }

  .stat-big {
    font-size: 48px; font-weight: 700;
    background: linear-gradient(135deg, var(--st-blue), var(--st-cyan));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1.1;
  }

  .reveal { opacity: 0; transform: translateY(28px); transition: opacity 0.7s cubic-bezier(0.22, 1, 0.36, 1), transform 0.7s cubic-bezier(0.22, 1, 0.36, 1); }
  .reveal.visible { opacity: 1; transform: translateY(0); }

  /* Market Toggle */
  .market-toggle {
    display: inline-flex; background: rgba(255,255,255,0.06);
    border-radius: 999px; padding: 3px; border: 1px solid rgba(255,255,255,0.1);
  }
  .market-btn {
    padding: 8px 24px; border-radius: 999px; font-size: 14px; font-weight: 700;
    cursor: pointer; transition: all 0.3s; border: none; background: transparent;
    color: rgba(255,255,255,0.4); font-family: inherit;
  }
  .market-btn.active {
    background: linear-gradient(135deg, var(--st-blue), var(--st-cyan));
    color: #fff; box-shadow: 0 4px 15px rgba(5,109,255,0.3);
  }

  /* Slider Styling */
  .slider-row { transition: opacity 0.5s, transform 0.5s; }
  .slider-row.locked { pointer-events: none; }

  input[type="range"] {
    -webkit-appearance: none; appearance: none;
    width: 100%; height: 8px; border-radius: 4px;
    background: rgba(255,255,255,0.07); outline: none;
    cursor: pointer; transition: opacity 0.3s;
  }
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none; appearance: none;
    width: 28px; height: 28px; border-radius: 50%;
    background: linear-gradient(135deg, var(--st-blue), var(--st-cyan));
    border: 3px solid #fff; cursor: pointer;
    box-shadow: 0 2px 10px rgba(5,109,255,0.4);
    transition: transform 0.2s;
  }
  input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.15); }
  input[type="range"]::-moz-range-thumb {
    width: 28px; height: 28px; border-radius: 50%;
    background: linear-gradient(135deg, var(--st-blue), var(--st-cyan));
    border: 3px solid #fff; cursor: pointer;
    box-shadow: 0 2px 10px rgba(5,109,255,0.4);
  }
  .slider-row.locked input[type="range"] { opacity: 0.4; cursor: default; }
  .slider-row.locked input[type="range"]::-webkit-slider-thumb { cursor: default; }

  .guess-value {
    font-size: 32px; font-weight: 700; color: #fff;
    min-width: 80px; text-align: right; line-height: 1;
    transition: color 0.5s;
  }
  .guess-value.dimmed { color: rgba(255,255,255,0.3); font-size: 24px; }

  /* Progress fill for slider track */
  .slider-track-wrapper { position: relative; width: 100%; }
  .slider-fill {
    position: absolute; top: 50%; transform: translateY(-50%);
    left: 0; height: 8px; border-radius: 4px;
    background: linear-gradient(90deg, var(--st-blue), var(--st-cyan));
    pointer-events: none; transition: width 0.1s;
  }

  /* Reveal bars */
  .reveal-bar-track {
    height: 32px; background: rgba(255,255,255,0.06); border-radius: 8px;
    position: relative; overflow: hidden;
  }
  .reveal-bar {
    position: absolute; top: 0; left: 0; height: 100%; border-radius: 8px;
    display: flex; align-items: center; padding-left: 12px;
    font-size: 12px; font-weight: 700; color: #fff;
    transition: width 1.2s cubic-bezier(0.22, 1, 0.36, 1);
  }
  .reveal-bar.guess-bar { background: rgba(255,255,255,0.15); z-index: 1; }
  .reveal-bar.manager-bar { background: linear-gradient(90deg, var(--st-blue), #3b8fff); z-index: 2; opacity: 0.7; }
  .reveal-bar.employee-bar { background: linear-gradient(90deg, #0891b2, var(--st-cyan)); z-index: 3; }

  .delta-badge {
    display: inline-flex; align-items: center; gap: 4px;
    padding: 4px 14px; border-radius: 999px;
    font-size: 13px; font-weight: 700;
  }
  .delta-badge.over { background: rgba(239,68,68,0.15); color: var(--st-red); border: 1px solid rgba(239,68,68,0.3); }
  .delta-badge.under { background: rgba(16,185,129,0.15); color: var(--st-green); border: 1px solid rgba(16,185,129,0.3); }
  .delta-badge.close { background: rgba(245,158,11,0.15); color: var(--st-yellow); border: 1px solid rgba(245,158,11,0.3); }

  /* Gap visualization */
  .gap-vis { position: relative; height: 52px; margin: 8px 0; }
  .gap-vis-track { position: absolute; top: 50%; transform: translateY(-50%); left: 0; right: 0; height: 6px; background: rgba(255,255,255,0.07); border-radius: 3px; }
  .gap-vis-zone { position: absolute; top: 50%; transform: translateY(-50%); height: 6px; background: rgba(239,68,68,0.25); border-radius: 3px; z-index: 1; }
  .gap-vis-marker {
    position: absolute; top: 50%; transform: translate(-50%, -50%);
    width: 18px; height: 18px; border-radius: 50%; border: 2px solid #fff; z-index: 2;
    transition: left 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  }
  .gap-vis-marker.mgr { background: var(--st-blue); }
  .gap-vis-marker.emp { background: var(--st-cyan); }
  .gap-vis-marker.you { background: var(--st-yellow); border-color: var(--st-yellow); width: 14px; height: 14px; }
  .gap-vis-label {
    position: absolute; font-size: 11px; font-weight: 700;
    transform: translateX(-50%); white-space: nowrap;
  }
  .gap-vis-label.top { top: 0; }
  .gap-vis-label.bottom { bottom: 0; }

  /* Reveal section */
  .reveal-card {
    opacity: 0; transform: translateY(20px);
    transition: opacity 0.6s cubic-bezier(0.22, 1, 0.36, 1), transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
  }
  .reveal-card.show { opacity: 1; transform: translateY(0); }

  /* CTA Button */
  .cta-btn {
    display: inline-flex; align-items: center; gap: 10px;
    padding: 16px 36px; border-radius: 999px; font-size: 16px; font-weight: 700;
    background: linear-gradient(135deg, var(--st-blue), var(--st-cyan));
    color: #fff; border: none; cursor: pointer;
    box-shadow: 0 4px 20px rgba(5,109,255,0.35);
    transition: transform 0.2s, box-shadow 0.2s;
    font-family: inherit; text-decoration: none;
  }
  .cta-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(5,109,255,0.45); }
  .cta-btn:disabled {
    opacity: 0.3; cursor: not-allowed; transform: none;
    box-shadow: 0 4px 20px rgba(5,109,255,0.15);
  }
  .cta-btn.secondary {
    background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15);
    box-shadow: none;
  }
  .cta-btn.secondary:hover { background: rgba(255,255,255,0.12); box-shadow: none; transform: translateY(-1px); }

  /* Accuracy meter */
  .accuracy-ring { transition: stroke-dasharray 1.5s cubic-bezier(0.22, 1, 0.36, 1); }

  /* Counter animation */
  .count-up { display: inline-block; }

  /* Action cards */
  .action-card {
    border-left: 4px solid var(--st-blue);
    transition: border-color 0.3s, background 0.3s;
  }
  .action-card:hover { border-color: var(--st-cyan); background: rgba(255,255,255,0.07); }

  @media (max-width: 768px) {
    .guess-value { font-size: 24px; min-width: 60px; }
    .stat-big { font-size: 36px; }
    .glass { padding: 20px; }
  }
</style>
</head>
<body>

<div class="max-w-3xl mx-auto px-4 py-12" id="app">

  <!-- INTRO -->
  <section id="intro" class="reveal">
    <div style="display:flex; align-items:center; gap:12px; margin-bottom:24px;">
      <div style="width:48px; height:48px; border-radius:12px; background:linear-gradient(135deg, var(--st-blue), var(--st-cyan)); display:flex; align-items:center; justify-content:center; font-size:24px;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
      </div>
      <div>
        <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:1px;">CHAPTER 2 &middot; INTERACTIVE</div>
        <h1 style="font-size:clamp(28px,4vw,42px); font-weight:700; color:#fff; line-height:1.15;">Predict Your Employees</h1>
      </div>
    </div>

    <div class="glass" style="margin-bottom:32px;">
      <p style="font-size:16px; color:rgba(255,255,255,0.75); margin-bottom:16px;">
        You believe you are fostering a strong learning culture. You approve budgets, you discuss goals, and you encourage growth. But do your employees actually <em style="color:#fff;">feel</em> it?
      </p>
      <p style="font-size:16px; color:rgba(255,255,255,0.75); margin-bottom:20px;">
        Across the Netherlands and Germany, managers consistently overestimated the support they provide. Before we show you the exact numbers, let's test your intuition.
      </p>
      <div style="padding:16px; background:rgba(5,109,255,0.08); border:1px solid rgba(5,109,255,0.2); border-radius:12px;">
        <p style="font-size:14px; color:rgba(255,255,255,0.6);">
          <span style="font-weight:700; color:var(--st-blue);">How to play:</span> Use the sliders to guess what percentage of <strong style="color:#fff;">employees</strong> agreed with each statement. Be honest &mdash; what is the lived reality on the floor?
        </p>
      </div>
    </div>

    <!-- Market Toggle -->
    <div style="display:flex; align-items:center; gap:16px; margin-bottom:32px;">
      <span style="font-size:13px; color:rgba(255,255,255,0.4); font-weight:700;">MARKET:</span>
      <div class="market-toggle">
        <button class="market-btn active" data-market="nl" onclick="setMarket('nl')">Netherlands</button>
        <button class="market-btn" data-market="de" onclick="setMarket('de')">Germany</button>
      </div>
    </div>
  </section>

  <!-- SLIDERS -->
  <section id="sliders">
    <div style="display:flex; flex-direction:column; gap:20px;" id="slider-container">

      <!-- Slider 1: Feedback -->
      <div class="glass slider-row reveal" data-key="feedback" style="transition-delay:0.05s;">
        <div style="margin-bottom:16px;">
          <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:0.5px; margin-bottom:4px;">STATEMENT 1 &mdash; THE FEEDBACK LOOP</div>
          <p style="font-size:15px; color:#fff; font-weight:700;">"I receive regular feedback and guidance on my professional development."</p>
        </div>
        <div style="display:flex; align-items:center; gap:20px;">
          <div class="slider-track-wrapper" style="flex:1;">
            <div class="slider-fill" style="width:0%;"></div>
            <input type="range" min="0" max="100" value="50" oninput="onSliderInput(this)">
          </div>
          <div class="guess-value">50%</div>
        </div>
      </div>

      <!-- Slider 2: Skill Map -->
      <div class="glass slider-row reveal" data-key="skillMap" style="transition-delay:0.1s;">
        <div style="margin-bottom:16px;">
          <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:0.5px; margin-bottom:4px;">STATEMENT 2 &mdash; THE SKILL MAP</div>
          <p style="font-size:15px; color:#fff; font-weight:700;">"I have clear visibility into the skills I currently have and the ones I need to develop."</p>
        </div>
        <div style="display:flex; align-items:center; gap:20px;">
          <div class="slider-track-wrapper" style="flex:1;">
            <div class="slider-fill" style="width:0%;"></div>
            <input type="range" min="0" max="100" value="50" oninput="onSliderInput(this)">
          </div>
          <div class="guess-value">50%</div>
        </div>
      </div>

      <!-- Slider 3: Lived Culture -->
      <div class="glass slider-row reveal" data-key="culture" style="transition-delay:0.15s;">
        <div style="margin-bottom:16px;">
          <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:0.5px; margin-bottom:4px;">STATEMENT 3 &mdash; THE LIVED CULTURE</div>
          <p style="font-size:15px; color:#fff; font-weight:700;">"Our organization has an actively lived learning culture that I experience in my daily work."</p>
        </div>
        <div style="display:flex; align-items:center; gap:20px;">
          <div class="slider-track-wrapper" style="flex:1;">
            <div class="slider-fill" style="width:0%;"></div>
            <input type="range" min="0" max="100" value="50" oninput="onSliderInput(this)">
          </div>
          <div class="guess-value">50%</div>
        </div>
      </div>

      <!-- Slider 4: Empowerment -->
      <div class="glass slider-row reveal" data-key="empowerment" style="transition-delay:0.2s;">
        <div style="margin-bottom:16px;">
          <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:0.5px; margin-bottom:4px;">STATEMENT 4 &mdash; THE EMPOWERMENT FACTOR</div>
          <p style="font-size:15px; color:#fff; font-weight:700;">"I feel empowered to steer my own development and design my learning path."</p>
        </div>
        <div style="display:flex; align-items:center; gap:20px;">
          <div class="slider-track-wrapper" style="flex:1;">
            <div class="slider-fill" style="width:0%;"></div>
            <input type="range" min="0" max="100" value="50" oninput="onSliderInput(this)">
          </div>
          <div class="guess-value">50%</div>
        </div>
      </div>

      <!-- Slider 5: Development Conversation -->
      <div class="glass slider-row reveal" data-key="devGoals" style="transition-delay:0.25s;">
        <div style="margin-bottom:16px;">
          <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:0.5px; margin-bottom:4px;">STATEMENT 5 &mdash; THE DEVELOPMENT CONVERSATION</div>
          <p style="font-size:15px; color:#fff; font-weight:700;">"My manager regularly discusses my development goals with me."</p>
        </div>
        <div style="display:flex; align-items:center; gap:20px;">
          <div class="slider-track-wrapper" style="flex:1;">
            <div class="slider-fill" style="width:0%;"></div>
            <input type="range" min="0" max="100" value="50" oninput="onSliderInput(this)">
          </div>
          <div class="guess-value">50%</div>
        </div>
      </div>

    </div>

    <!-- Reveal Button -->
    <div style="text-align:center; margin-top:40px;" class="reveal" style="transition-delay:0.3s;">
      <button class="cta-btn" id="reveal-btn" onclick="revealResults()" disabled>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
        REVEAL THE BLIND SPOT
      </button>
      <p id="slider-hint" style="font-size:13px; color:rgba(255,255,255,0.3); margin-top:12px;">Move all 5 sliders to unlock</p>
    </div>
  </section>

  <!-- REVEAL SECTION (hidden initially) -->
  <section id="reveal-section" style="display:none; margin-top:48px;">

    <!-- Headline -->
    <div class="reveal-card" style="text-align:center; margin-bottom:40px;">
      <h2 style="font-size:clamp(24px,3.5vw,36px); font-weight:700; color:#fff; line-height:1.2; margin-bottom:12px;">
        The Manager Mirage:<br>You're Overestimating Your Impact.
      </h2>
      <p style="font-size:16px; color:rgba(255,255,255,0.55); max-width:560px; margin:0 auto;">
        If you guessed high, you aren't alone. Most managers think they are doing a great job developing their people. The data tells a different story.
      </p>
    </div>

    <!-- Accuracy Score -->
    <div class="reveal-card glass" style="text-align:center; margin-bottom:32px;">
      <div style="display:flex; flex-wrap:wrap; align-items:center; justify-content:center; gap:32px;">
        <div>
          <svg width="140" height="140" viewBox="0 0 140 140">
            <circle cx="70" cy="70" r="56" fill="none" stroke="rgba(255,255,255,0.07)" stroke-width="12"/>
            <circle id="accuracy-ring" class="accuracy-ring" cx="70" cy="70" r="56" fill="none"
              stroke-width="12" stroke-linecap="round"
              stroke-dasharray="0 352" stroke-dashoffset="-88"
              transform="rotate(-90 70 70)"/>
            <text id="accuracy-value" x="70" y="66" text-anchor="middle" fill="#fff" font-size="32" font-weight="700" font-family="Euclid Circular B, sans-serif">0</text>
            <text x="70" y="84" text-anchor="middle" fill="rgba(255,255,255,0.4)" font-size="11" font-family="Euclid Circular B, sans-serif">accuracy score</text>
          </svg>
        </div>
        <div style="text-align:left; max-width:320px;">
          <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:1px; margin-bottom:6px;">YOUR PREDICTION ACCURACY</div>
          <p id="accuracy-text" style="font-size:14px; color:rgba(255,255,255,0.6);"></p>
        </div>
      </div>
    </div>

    <!-- Per-dimension reveal cards -->
    <div style="display:flex; flex-direction:column; gap:20px;" id="reveal-cards">

      <!-- Cards get populated by JS -->

    </div>

    <!-- Market comparison callout -->
    <div class="reveal-card glass" style="margin-top:24px; border-left:4px solid var(--st-yellow);" id="market-callout">
    </div>

    <!-- ACTION MODULE -->
    <div class="reveal-card" style="margin-top:48px;">
      <div style="text-align:center; margin-bottom:32px;">
        <div style="font-size:12px; font-weight:700; color:var(--st-green); letter-spacing:1px; margin-bottom:8px;">WHAT NOW?</div>
        <h3 style="font-size:clamp(22px,3vw,30px); font-weight:700; color:#fff; line-height:1.2; margin-bottom:8px;">
          The manager is the 70% multiplier for learning.<br>Here is how you recalibrate.
        </h3>
        <p style="font-size:15px; color:rgba(255,255,255,0.5);">The manager isn't malicious &mdash; the manager is untrained. You cannot fix a perception gap without data.</p>
      </div>

      <div style="display:flex; flex-direction:column; gap:16px;">
        <div class="glass action-card">
          <div style="font-size:12px; font-weight:700; color:var(--st-blue); letter-spacing:0.5px; margin-bottom:8px;">STEP 1 &mdash; AUDIT YOUR OWN TEAM</div>
          <p style="font-size:14px; color:rgba(255,255,255,0.7);">
            Don't guess. Send a 5-question pulse survey asking your team these exact questions. The delta between your assumption and their reality is your actual blind spot.
          </p>
        </div>
        <div class="glass action-card">
          <div style="font-size:12px; font-weight:700; color:var(--st-blue); letter-spacing:0.5px; margin-bottom:8px;">STEP 2 &mdash; CHANGE YOUR KPIs</div>
          <p style="font-size:14px; color:rgba(255,255,255,0.7);">
            Add "learning enablement" to your leadership KPIs. If development check-ins aren't measured, they get swallowed by daily operations.
          </p>
        </div>
        <div class="glass action-card">
          <div style="font-size:12px; font-weight:700; color:var(--st-blue); letter-spacing:0.5px; margin-bottom:8px;">STEP 3 &mdash; GET THE INFRASTRUCTURE</div>
          <p style="font-size:14px; color:rgba(255,255,255,0.7);">
            Stop relying on goodwill. Use the <strong style="color:#fff;">L&amp;D Impact Scan</strong> to benchmark your team's skill visibility and start coaching based on data, not assumptions.
          </p>
        </div>
      </div>

      <div style="text-align:center; margin-top:36px;">
        <a href="https://scan.studytube.nl" class="cta-btn" target="_blank">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
          TAKE THE L&amp;D IMPACT SCAN
        </a>
      </div>

      <div style="text-align:center; margin-top:20px;">
        <button class="cta-btn secondary" onclick="resetGame()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/></svg>
          PLAY AGAIN
        </button>
      </div>
    </div>

  </section>

  <!-- Footer -->
  <div style="text-align:center; margin-top:64px; padding:24px 0; border-top:1px solid rgba(255,255,255,0.06);">
    <p style="font-size:12px; color:rgba(255,255,255,0.3);">L&amp;D Monitor 2026 &mdash; The Perception Gap Game / Studytube</p>
    <p style="font-size:11px; color:rgba(255,255,255,0.2); margin-top:4px;">Data: Bilendi NL n=1,017 &middot; DE n=1,815</p>
  </div>

</div>

<script>
// === DATA ===
const DATA = {
  nl: {
    feedback:    { manager: 72, employee: 55, gap: 17, label: 'The Feedback Loop' },
    skillMap:    { manager: 69, employee: 54, gap: 15, label: 'The Skill Map' },
    culture:     { manager: 66, employee: 50, gap: 16, label: 'The Lived Culture' },
    empowerment: { manager: 76, employee: 68, gap: 8,  label: 'The Empowerment Factor' },
    devGoals:    { manager: 80, employee: 66, gap: 15, label: 'The Development Conversation' }
  },
  de: {
    feedback:    { manager: 68, employee: 39, gap: 28, label: 'The Feedback Loop' },
    skillMap:    { manager: 70, employee: 45, gap: 25, label: 'The Skill Map' },
    culture:     { manager: 63, employee: 40, gap: 23, label: 'The Lived Culture' },
    empowerment: { manager: 69, employee: 43, gap: 26, label: 'The Empowerment Factor' },
    devGoals:    { manager: 69, employee: 54, gap: 15, label: 'The Development Conversation' }
  }
};

const REALITY_TEXT = {
  feedback:    'You might mention a skill gap at the coffee machine, but your employees don\'t register it as a feedback loop.',
  skillMap:    'You can\'t expect self-directed learning if your employees are navigating blind.',
  culture:     'A learning culture communicated top-down dissipates by the time it reaches the daily operational grind.',
  empowerment: 'Managers conflate "approving a training request" with actively empowering their team to grow.',
  devGoals:    'Nearly 1 in 7 managers are hallucinating development conversations that employees say never happened.'
};

const KEYS = ['feedback', 'skillMap', 'culture', 'empowerment', 'devGoals'];

let market = 'nl';
let guesses = {};
let slidersMoved = new Set();
let revealed = false;

// === MARKET TOGGLE ===
function setMarket(m) {
  if (revealed) return;
  market = m;
  document.querySelectorAll('.market-btn').forEach(btn => {
    btn.classList.toggle('active', btn.dataset.market === m);
  });
}

// === SLIDER INPUT ===
function onSliderInput(input) {
  if (revealed) return;
  const row = input.closest('.slider-row');
  const key = row.dataset.key;
  const val = parseInt(input.value);

  // Update fill
  const fill = row.querySelector('.slider-fill');
  fill.style.width = val + '%';

  // Update value display
  const display = row.querySelector('.guess-value');
  display.textContent = val + '%';

  // Track
  guesses[key] = val;
  slidersMoved.add(key);

  // Enable button when all 5 moved
  const btn = document.getElementById('reveal-btn');
  const hint = document.getElementById('slider-hint');
  if (slidersMoved.size >= 5) {
    btn.disabled = false;
    hint.style.display = 'none';
  } else {
    hint.textContent = `Move ${5 - slidersMoved.size} more slider${5 - slidersMoved.size > 1 ? 's' : ''} to unlock`;
  }
}

// === REVEAL ===
function revealResults() {
  if (revealed) return;
  revealed = true;

  const d = DATA[market];

  // Lock sliders
  document.querySelectorAll('.slider-row').forEach(row => {
    row.classList.add('locked');
    row.querySelector('.guess-value').classList.add('dimmed');
  });

  // Disable reveal button
  document.getElementById('reveal-btn').disabled = true;
  document.getElementById('reveal-btn').textContent = 'REVEALED';

  // Show reveal section
  const revealSection = document.getElementById('reveal-section');
  revealSection.style.display = 'block';

  // Calculate accuracy
  let totalDelta = 0;
  KEYS.forEach(key => {
    const guess = guesses[key] || 50;
    const actual = d[key].employee;
    totalDelta += Math.abs(guess - actual);
  });
  const avgDelta = totalDelta / 5;
  const accuracy = Math.max(0, Math.round(100 - avgDelta * 2));

  // Build reveal cards
  const container = document.getElementById('reveal-cards');
  container.innerHTML = '';
  KEYS.forEach((key, i) => {
    const dim = d[key];
    const guess = guesses[key] || 50;
    const delta = guess - dim.employee;
    const absDelta = Math.abs(delta);

    let deltaClass = 'close';
    let deltaText = `${absDelta}pp off`;
    if (delta > 5) { deltaClass = 'over'; deltaText = `+${delta}pp overschat`; }
    else if (delta < -5) { deltaClass = 'under'; deltaText = `${delta}pp onderschat`; }

    const otherMarket = market === 'nl' ? 'de' : 'nl';
    const otherDim = DATA[otherMarket][key];
    const otherLabel = market === 'nl' ? 'DE' : 'NL';

    const card = document.createElement('div');
    card.className = 'glass reveal-card';
    card.style.transitionDelay = (i * 0.15) + 's';
    card.innerHTML = `
      <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px; flex-wrap:wrap; gap:8px;">
        <div>
          <div style="font-size:12px; font-weight:700; color:var(--st-cyan); letter-spacing:0.5px; margin-bottom:4px;">${dim.label.toUpperCase()}</div>
        </div>
        <div style="display:flex; gap:8px; align-items:center;">
          <span class="delta-badge ${deltaClass}">${deltaText}</span>
          <span style="font-size:12px; font-weight:700; color:var(--st-red); background:rgba(239,68,68,0.1); padding:3px 12px; border-radius:999px;">${market.toUpperCase()} gap: ${dim.gap}pp</span>
        </div>
      </div>

      <div style="display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; margin-bottom:16px;">
        <div class="glass-light" style="text-align:center; padding:12px;">
          <div style="font-size:11px; color:rgba(255,255,255,0.4); margin-bottom:4px;">Your guess</div>
          <div style="font-size:24px; font-weight:700; color:var(--st-yellow);">${guess}%</div>
        </div>
        <div class="glass-light" style="text-align:center; padding:12px;">
          <div style="font-size:11px; color:rgba(255,255,255,0.4); margin-bottom:4px;">Managers say</div>
          <div style="font-size:24px; font-weight:700; color:var(--st-blue);">${dim.manager}%</div>
        </div>
        <div class="glass-light" style="text-align:center; padding:12px;">
          <div style="font-size:11px; color:rgba(255,255,255,0.4); margin-bottom:4px;">Employees say</div>
          <div style="font-size:24px; font-weight:700; color:var(--st-cyan);">${dim.employee}%</div>
        </div>
      </div>

      <div class="gap-vis">
        <div class="gap-vis-track"></div>
        <div class="gap-vis-zone" style="left:${dim.employee}%; width:${dim.gap}%;"></div>
        <div class="gap-vis-marker you" style="left:${guess}%;"></div>
        <div class="gap-vis-marker mgr" style="left:${dim.manager}%;"></div>
        <div class="gap-vis-marker emp" style="left:${dim.employee}%;"></div>
        <span class="gap-vis-label top" style="left:${dim.manager}%; color:var(--st-blue);">${dim.manager}%</span>
        <span class="gap-vis-label bottom" style="left:${dim.employee}%; color:var(--st-cyan);">${dim.employee}%</span>
      </div>

      <div style="margin-top:12px; padding:12px 16px; background:rgba(255,255,255,0.03); border-radius:10px; border-left:3px solid rgba(255,255,255,0.1);">
        <p style="font-size:13px; color:rgba(255,255,255,0.5); font-style:italic;">${REALITY_TEXT[key]}</p>
      </div>

      <div style="margin-top:12px; font-size:12px; color:rgba(255,255,255,0.35);">
        ${otherLabel}: Managers ${otherDim.manager}% &middot; Employees ${otherDim.employee}% &middot; Gap ${otherDim.gap}pp
      </div>
    `;
    container.appendChild(card);
  });

  // Market callout
  const callout = document.getElementById('market-callout');
  const avgGapNL = Math.round((17 + 15 + 16 + 8 + 15) / 5);
  const avgGapDE = Math.round((28 + 25 + 23 + 26 + 15) / 5);
  const userAvgDelta = Math.round(totalDelta / 5);

  callout.innerHTML = `
    <div style="font-size:12px; font-weight:700; color:var(--st-yellow); letter-spacing:1px; margin-bottom:12px;">CROSS-MARKET COMPARISON</div>
    <p style="font-size:15px; color:rgba(255,255,255,0.7); line-height:1.7;">
      Managers in <strong style="color:#fff;">the Netherlands</strong> overestimate by an average of <strong style="color:var(--st-yellow);">${avgGapNL}pp</strong>.
      In <strong style="color:#fff;">Germany</strong>, the gap nearly doubles to <strong style="color:var(--st-red);">${avgGapDE}pp</strong>.
      <br>Your average prediction was <strong style="color:#fff;">${userAvgDelta}pp</strong> off from reality.
    </p>
    <div style="display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; margin-top:16px;">
      <div class="glass-light" style="text-align:center;">
        <div style="font-size:11px; color:rgba(255,255,255,0.4); margin-bottom:4px;">NL Avg Gap</div>
        <div style="font-size:22px; font-weight:700; color:var(--st-yellow);">${avgGapNL}pp</div>
      </div>
      <div class="glass-light" style="text-align:center;">
        <div style="font-size:11px; color:rgba(255,255,255,0.4); margin-bottom:4px;">DE Avg Gap</div>
        <div style="font-size:22px; font-weight:700; color:var(--st-red);">${avgGapDE}pp</div>
      </div>
      <div class="glass-light" style="text-align:center;">
        <div style="font-size:11px; color:rgba(255,255,255,0.4); margin-bottom:4px;">You</div>
        <div style="font-size:22px; font-weight:700; color:#fff;">${userAvgDelta}pp</div>
      </div>
    </div>
  `;

  // Animate accuracy ring
  setTimeout(() => {
    const ring = document.getElementById('accuracy-ring');
    const circumference = 2 * Math.PI * 56;
    const dashLen = (accuracy / 100) * circumference;
    ring.setAttribute('stroke-dasharray', `${dashLen} ${circumference}`);

    // Color based on accuracy
    let color = 'var(--st-red)';
    if (accuracy >= 70) color = 'var(--st-green)';
    else if (accuracy >= 40) color = 'var(--st-yellow)';
    ring.setAttribute('stroke', color);

    // Animate counter
    animateCounter('accuracy-value', 0, accuracy, 1500);

    // Accuracy text
    const textEl = document.getElementById('accuracy-text');
    if (accuracy >= 70) {
      textEl.innerHTML = 'Impressive. You have a realistic view of what employees experience. That awareness is rare &mdash; and valuable.';
    } else if (accuracy >= 40) {
      textEl.innerHTML = 'You\'re in the ballpark, but the gaps are bigger than you thought. That\'s normal &mdash; <strong style="color:#fff;">this is the Manager Mirage</strong>.';
    } else {
      textEl.innerHTML = 'You significantly overestimated. <strong style="color:#fff;">You\'re not alone &mdash; this is exactly what the data shows.</strong> The gap between perception and reality is structural.';
    }
  }, 300);

  // Stagger-reveal the cards
  setTimeout(() => {
    document.querySelectorAll('.reveal-card').forEach((card, i) => {
      setTimeout(() => card.classList.add('show'), i * 200);
    });
  }, 100);

  // Scroll to reveal
  setTimeout(() => {
    revealSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 400);
}

// === COUNTER ANIMATION ===
function animateCounter(id, start, end, duration) {
  const el = document.getElementById(id);
  const startTime = performance.now();
  function update(now) {
    const elapsed = now - startTime;
    const progress = Math.min(elapsed / duration, 1);
    const eased = 1 - Math.pow(1 - progress, 3);
    const current = Math.round(start + (end - start) * eased);
    el.textContent = current;
    if (progress < 1) requestAnimationFrame(update);
  }
  requestAnimationFrame(update);
}

// === RESET ===
function resetGame() {
  revealed = false;
  guesses = {};
  slidersMoved = new Set();

  // Hide reveal
  document.getElementById('reveal-section').style.display = 'none';
  document.querySelectorAll('.reveal-card').forEach(c => c.classList.remove('show'));

  // Reset sliders
  document.querySelectorAll('.slider-row').forEach(row => {
    row.classList.remove('locked');
    const input = row.querySelector('input[type="range"]');
    input.value = 50;
    row.querySelector('.slider-fill').style.width = '0%';
    const display = row.querySelector('.guess-value');
    display.textContent = '50%';
    display.classList.remove('dimmed');
  });

  // Reset button
  const btn = document.getElementById('reveal-btn');
  btn.disabled = true;
  btn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg> REVEAL THE BLIND SPOT';
  document.getElementById('slider-hint').style.display = 'block';
  document.getElementById('slider-hint').textContent = 'Move all 5 sliders to unlock';

  // Reset accuracy
  document.getElementById('accuracy-ring').setAttribute('stroke-dasharray', '0 352');
  document.getElementById('accuracy-value').textContent = '0';

  // Scroll to top
  document.getElementById('intro').scrollIntoView({ behavior: 'smooth' });
}

// === SCROLL REVEAL ===
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) entry.target.classList.add('visible');
  });
}, { threshold: 0.08, rootMargin: '0px 0px -40px 0px' });
document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
</script>

</body>
</html>
